@words = {};
words["original"] = ["africa", "agent", "air", "alien", "alps", "amazon", "ambulance", "america", "angel", "antarctica", "apple", "arm", "atlantis", "australia", "aztec", "back", "ball", "band", "bank", "bar", "bark", "bat", "battery", "beach", "bear", "beat", "bed", "beijing", "bell", "belt", "berlin", "bermuda", "berry", "bill", "block", "board", "bolt", "bomb", "bond", "boom", "boot", "bottle", "bow", "box", "bridge", "brush", "buck", "buffalo", "bug", "bugle", "button", "calf", "canada", "cap", "capital", "car", "card", "carrot", "casino", "cast", "cat", "cell", "centaur", "center", "chair", "change", "charge", "check", "chest", "chick", "china", "chocolate", "church", "circle", "cliff", "cloak", "club", "code", "cold", "comic", "compound", "concert", "conductor", "contract", "cook", "copper", "cotton", "court", "cover", "crane", "crash", "cricket", "cross", "crown", "cycle", "czech", "dance", "date", "day", "death", "deck", "degree", "diamond", "dice", "dinosaur", "disease", "doctor", "dog", "draft", "dragon", "dress", "drill", "drop", "duck", "dwarf", "eagle", "egypt", "embassy", "engine", "england", "europe", "eye", "face", "fair", "fall", "fan", "fence", "field", "fighter", "figure", "file", "film", "fire", "fish", "flute", "fly", "foot", "force", "forest", "fork", "france", "game", "gas", "genius", "germany", "ghost", "giant", "glass", "glove", "gold", "grace", "grass", "greece", "green", "ground", "ham", "hand", "hawk", "head", "heart", "helicopter", "himalayas", "hole", "hollywood", "honey", "hood", "hook", "horn", "horse", "horseshoe", "hospital", "hotel", "ice", "ice cream", "india", "iron", "ivory", "jack", "jam", "jet", "jupiter", "kangaroo", "ketchup", "key", "kid", "king", "kiwi", "knife", "knight", "lab", "lap", "laser", "lawyer", "lead", "lemon", "leprechaun", "life", "light", "limousine", "line", "link", "lion", "litter", "loch ness", "lock", "log", "london", "luck", "mail", "mammoth", "maple", "marble", "march", "mass", "match", "mercury", "mexico", "microscope", "millionaire", "mine", "mint", "missile", "model", "mole", "moon", "moscow", "mount", "mouse", "mouth", "mug", "nail", "needle", "net", "new york", "night", "ninja", "note", "novel", "nurse", "nut", "octopus", "oil", "olive", "olympus", "opera", "orange", "organ", "palm", "pan", "pants", "paper", "parachute", "park", "part", "pass", "paste", "penguin", "phoenix", "piano", "pie", "pilot", "pin", "pipe", "pirate", "pistol", "pit", "pitch", "plane", "plastic", "plate", "platypus", "play", "plot", "point", "poison", "pole", "police", "pool", "port", "post", "pound", "press", "princess", "pumpkin", "pupil", "pyramid", "queen", "rabbit", "racket", "ray", "revolution", "ring", "robin", "robot", "rock", "rome", "root", "rose", "roulette", "round", "row", "ruler", "satellite", "saturn", "scale", "school", "scientist", "scorpion", "screen", "scuba diver", "seal", "server", "shadow", "shakespeare", "shark", "ship", "shoe", "shop", "shot", "sink", "skyscraper", "slip", "slug", "smuggler", "snow", "snowman", "sock", "soldier", "soul", "sound", "space", "spell", "spider", "spike", "spine", "spot", "spring", "spy", "square", "stadium", "staff", "star", "state", "stick", "stock", "straw", "stream", "strike", "string", "sub", "suit", "superhero", "swing", "switch", "table", "tablet", "tag", "tail", "tap", "teacher", "telescope", "temple", "theater", "thief", "thumb", "tick", "tie", "time", "tokyo", "tooth", "torch", "tower", "track", "train", "triangle", "trip", "trunk", "tube", "turkey", "undertaker", "unicorn", "vacuum", "van", "vet", "wake", "wall", "war", "washer", "washington", "watch", "water", "wave", "web", "well", "whale", "whip", "wind", "witch", "worm", "yard"];
words["ninjabunny"] = ["account", "achiever", "acoustics", "act", "action", "activity", "actor", "addition", "adjustment", "advertisement", "advice", "aftermath", "afternoon", "afterthought", "agreement", "air", "airplane", "airport", "alarm", "alley", "amount", "amusement", "anger", "angle", "animal", "answer", "ant", "apparatus", "apparel", "apple", "appliance", "approval", "arch", "argument", "arithmetic", "arm", "army", "art", "attack", "attempt", "attention", "attraction", "aunt", "authority", "baby", "back", "badge", "bag", "bait", "balance", "ball", "balloon", "banana", "band", "base", "baseball", "basin", "basket", "basketball", "bat", "bath", "battle", "bead", "beam", "bean", "bear", "beast", "bed", "bedroom", "bee", "beef", "beetle", "beggar", "beginner", "behavior", "belief", "believe", "bell", "berry", "bike", "bird", "birth", "birthday", "bit", "bite", "blade", "blood", "blow", "board", "boat", "body", "bomb", "bone", "book", "boot", "border", "bottle", "boundary", "box", "boy", "brain", "brake", "branch", "brass", "bread", "breakfast", "breath", "brick", "bridge", "brother", "brush", "bubble", "bucket", "building", "bulb", "bun", "burn", "burst", "bush", "business", "butter", "button", "cabbage", "cable", "cactus", "cake", "calculator", "calendar", "camera", "camp", "can", "cannon", "canvas", "cap", "caption", "car", "card", "care", "carpenter", "carriage", "cart", "cast", "cat", "cattle", "cause", "cave", "celery", "cellar", "cemetery", "cent", "chain", "chair", "chalk", "chance", "change", "channel", "cheese", "cherry", "chess", "chicken", "children", "chin", "church", "circle", "clam", "class", "clock", "cloth", "cloud", "clover", "club", "coach", "coal", "coast", "coat", "cobweb", "coil", "collar", "color", "comb", "comfort", "committee", "company", "comparison", "competition", "condition", "connection", "control", "cook", "copper", "copy", "cord", "cork", "corn", "cough", "country", "cover", "cow", "crack", "cracker", "crate", "crayon", "cream", "creator", "creature", "credit", "crib", "crime", "crook", "crow", "crowd", "crown", "crush", "cry", "cub", "cup", "current", "curtain", "curve", "cushion", "dad", "daughter", "day", "death", "debt", "decision", "deer", "degree", "design", "desire", "desk", "destruction", "detail", "development", "digestion", "dime", "dinner", "dinosaur", "direction", "dirt", "discovery", "discussion", "disease", "disgust", "distance", "distribution", "division", "dock", "doctor", "dog", "doll", "donkey", "door", "downtown", "drain", "drawer", "dress", "drink", "driving", "drop", "drug", "drum", "duck", "dust", "ear", "earth", "earthquake", "edge", "education", "effect", "egg", "eggnog", "elbow", "end", "engine", "error", "event", "example", "exchange", "existence", "expansion", "experience", "expert", "eye", "face", "fact", "fairy", "fall", "family", "fan", "fang", "farm", "farmer", "father", "faucet", "fear", "feast", "feather", "feeling", "feet", "fiction", "field", "fifth", "fight", "finger", "fire", "fireman", "fish", "flag", "flame", "flavor", "flesh", "flight", "flock", "floor", "flower", "fly", "fog", "fold", "food", "foot", "force", "fork", "form", "fowl", "frame", "friction", "friend", "frog", "front", "fruit", "fuel", "furniture", "game", "garden", "gate", "geese", "ghost", "giant", "giraffe", "girl", "glass", "glove", "glue", "goat", "gold", "goldfish", "good-bye", "goose", "government", "governor", "grade", "grain", "grandfather", "grandmother", "grape", "grass", "grip", "ground", "group", "growth", "guide", "guitar", "gun", "hair", "haircut", "hall", "hammer", "hand", "harbor", "harmony", "hat", "hate", "head", "health", "hearing", "heart", "heat", "help", "hen", "hill", "history", "hobby", "hole", "holiday", "home", "honey", "hook", "hope", "horn", "horse", "hose", "hospital", "hot", "hour", "house", "humor", "hydrant", "ice", "icicle", "idea", "impulse", "income", "increase", "industry", "ink", "insect", "instrument", "insurance", "interest", "invention", "iron", "island", "jail", "jam", "jar", "jeans", "jelly", "jellyfish", "jewel", "join", "joke", "journey", "judge", "juice", "jump", "kettle", "key", "kick", "kiss", "kite", "kitten", "kitty", "knee", "knife", "knot", "knowledge", "laborer", "lace", "ladybug", "lake", "lamp", "land", "language", "laugh", "lawyer", "lead", "leaf", "learning", "leather", "leg", "letter", "lettuce", "level", "library", "lift", "light", "limit", "line", "linen", "lip", "liquid", "list", "lizard", "loaf", "lock", "locket", "look", "loss", "love", "low", "lumber", "lunch", "lunchroom", "machine", "magic", "maid", "mailbox", "man", "manager", "map", "marble", "mark", "market", "mask", "mass", "match", "meal", "measure", "meat", "meeting", "memory", "metal", "mice", "middle", "milk", "mind", "mine", "minister", "mint", "minute", "mist", "mitten", "mom", "money", "monkey", "month", "moon", "morning", "mother", "motion", "mountain", "mouth", "move", "muscle", "music", "nail", "name", "nation", "neck", "need", "needle", "nerve", "nest", "net", "news", "night", "noise", "north", "nose", "note", "notebook", "number", "nut", "oatmeal", "observation", "ocean", "offer", "office", "oil", "operation", "opinion", "orange", "order", "organization", "ornament", "oven", "owl", "owner", "page", "pail", "pain", "paint", "pan", "pancake", "paper", "parcel", "parent", "park", "part", "partner", "party", "passenger", "paste", "patch", "payment", "peace", "pear", "pen", "pencil", "person", "pest", "pet", "pickle", "picture", "pie", "pig", "pin", "pipe", "pizza", "place", "plane", "plant", "plantation", "plastic", "plate", "play", "playground", "pleasure", "plot", "plough", "pocket", "point", "poison", "police", "polish", "pollution", "popcorn", "porter", "position", "pot", "potato", "powder", "power", "price", "print", "prison", "process", "produce", "profit", "property", "prose", "protest", "pull", "pump", "punishment", "purpose", "push", "quarter", "quartz", "queen", "question", "quicksand", "quiet", "quill", "quilt", "quince", "quiver", "rabbit", "rail", "railway", "rain", "rainstorm", "rake", "range", "rat", "rate", "ray", "reaction", "reading", "reason", "receipt", "recess", "record", "regret", "relation", "religion", "representative", "request", "respect", "rest", "reward", "rhythm", "rice", "riddle", "rifle", "ring", "river", "road", "robin", "rock", "rod", "roll", "roof", "room", "root", "rose", "route", "rub", "rule", "run", "sack", "sail", "salt", "sand", "scale", "scarecrow", "scarf", "scene", "scent", "school", "science", "scissors", "screw", "sea", "seashore", "seat", "secretary", "seed", "selection", "self", "sense", "servant", "shade", "shake", "shame", "shape", "sheep", "sheet", "shelf", "ship", "shirt", "shock", "shoe", "shop", "show", "side", "sidewalk", "sign", "silk", "silver", "sink", "sister", "size", "skate", "skin", "skirt", "sky", "slave", "sleep", "sleet", "slip", "slope", "smash", "smell", "smile", "smoke", "snail", "snake", "sneeze", "snow", "soap", "society", "sock", "soda", "sofa", "son", "song", "sort", "sound", "soup", "space", "spade", "spark", "spider", "sponge", "spoon", "spot", "spring", "spy", "square", "squirrel", "stage", "stamp", "star", "start", "statement", "station", "steam", "steel", "stem", "step", "stew", "stick", "stitch", "stocking", "stomach", "stone", "stop", "store", "story", "stove", "stranger", "straw", "stream", "street", "stretch", "string", "structure", "substance", "sugar", "suggestion", "suit", "summer", "sun", "support", "surprise", "sweater", "swim", "swing", "system", "table", "tail", "talk", "tank", "taste", "tax", "teaching", "team", "teeth", "temper", "tendency", "tent", "territory", "test", "texture", "theory", "thought", "thread", "thrill", "throat", "throne", "thumb", "thunder", "ticket", "tiger", "time", "tin", "title", "toad", "toe", "tomato", "tongue", "tooth", "toothbrush", "toothpaste", "top", "touch", "town", "toy", "trade", "trail", "train", "tramp", "transport", "tray", "treatment", "tree", "trick", "trip", "trouble", "trousers", "truck", "tub", "turkey", "turn", "twig", "twist", "umbrella", "uncle", "underwear", "unit", "use", "vacation", "value", "van", "vase", "vegetable", "veil", "vein", "verse", "vessel", "vest", "view", "visitor", "voice", "volcano", "volleyball", "voyage", "walk", "wall", "war", "wash", "waste", "watch", "water", "wave", "wax", "way", "wealth", "weather", "week", "weight", "wheel", "whip", "whistle", "wilderness", "wind", "window", "wine", "wing", "winter", "wire", "wish", "woman", "wood", "wool", "word", "work", "worm", "wound", "wren", "wrench", "wrist", "writer", "writing", "yak", "yam", "yard", "yarn", "year", "yoke", "zebra", "zephyr", "zinc", "zipper", "zoo"];

@wordListTypes = {};
wordListTypes["original"] = "Original (400)";
wordListTypes["ninjabunny"] = "Ninjabunny's (<1000)";
wordListTypes["custom"] = "Custom";


access_code_components = ['ace', 'act', 'add', 'age', 'ago', 'aha', 'aid', 'aim', 'air', 'ali', 'all', 'amp', 'and', 'ann', 'any', 'apt', 'arc', 'are', 'arm', 'art', 'ask', 'ate', 'aye', 'bad', 'bag', 'ban', 'bar', 'bat', 'bay', 'bed', 'ben', 'bet', 'bid', 'big', 'bin', 'bit', 'bob', 'bot', 'bow', 'box', 'boy', 'bud', 'bus', 'but', 'buy', 'bye', 'cab', 'can', 'cap', 'car', 'cat', 'cor', 'cos', 'cot', 'cow', 'cry', 'cup', 'cut', 'dad', 'dan', 'day', 'dec', 'des', 'did', 'die', 'dim', 'dna', 'dog', 'don', 'dos', 'dry', 'due', 'ear', 'eat', 'egg', 'ego', 'end', 'era', 'erm', 'etc', 'eve', 'eye', 'fan', 'far', 'fat', 'fax', 'fed', 'fee', 'few', 'fey', 'fig', 'fit', 'fix', 'fly', 'fog', 'for', 'fox', 'fry', 'fun', 'fur', 'gap', 'gas', 'gdp', 'get', 'gnp', 'god', 'got', 'gps', 'gun', 'gut', 'guy', 'had', 'ham', 'has', 'hat', 'hay', 'her', 'hey', 'hid', 'him', 'hip', 'his', 'hit', 'hmm', 'hog', 'hot', 'how', 'hub', 'hut', 'ian', 'ice', 'icy', 'ill', 'inc', 'ink', 'inn', 'its', 'jam', 'jan', 'jaw', 'jay', 'jet', 'jim', 'job', 'joe', 'joy', 'key', 'kid', 'kin', 'kit', 'lad', 'lap', 'law', 'lay', 'lea', 'led', 'lee', 'leg', 'leo', 'les', 'let', 'lid', 'lie', 'lip', 'lit', 'log', 'lot', 'low', 'ltd', 'mad', 'man', 'map', 'max', 'may', 'men', 'met', 'min', 'mix', 'mrs', 'mud', 'mug', 'mum', 'nag', 'nay', 'net', 'new', 'nhs', 'non', 'nor', 'not', 'now', 'nut', 'oak', 'odd', 'off', 'oil', 'old', 'one', 'ooh', 'our', 'out', 'owe', 'owl', 'own', 'pan', 'par', 'pat', 'pay', 'pen', 'per', 'pie', 'pig', 'pin', 'pit', 'pop', 'pot', 'pro', 'pry', 'pub', 'pug', 'put', 'ran', 'rat', 'raw', 'ray', 'red', 'ref', 'rex', 'rid', 'rob', 'rod', 'ron', 'ros', 'rot', 'row', 'roy', 'rug', 'run', 'sad', 'sam', 'san', 'sat', 'saw', 'say', 'sea', 'see', 'set', 'she', 'shy', 'sin', 'sir', 'sit', 'six', 'sky', 'son', 'sri', 'sue', 'sum', 'sun', 'tap', 'tax', 'tea', 'ted', 'ten', 'the', 'thy', 'tie', 'tim', 'tin', 'tip', 'tom', 'ton', 'too', 'top', 'try', 'two', 'usa', 'use', 'van', 'vat', 'via', 'vic', 'von', 'wan', 'war', 'was', 'wax', 'way', 'wee', 'wet', 'who', 'why', 'win', 'wit', 'won', 'yep', 'yer', 'yes', 'yet', 'you'];

@generateAccessCode = ->
	code = access_code_components[getRandom(access_code_components.length)] + '-' + access_code_components[getRandom(access_code_components.length)] + '-' + access_code_components[getRandom(access_code_components.length)]
	code

@getRandom = (length) ->
	#return Math.floor(Math.random() * length);
	Math.floor Random.fraction() * length

@createLog = (room_name, msg) ->
	log = 
		content: msg
		room_name: room_name
		createdAt: new Date
	Logs.insert log
	return

# DEPRECATED
@joinRoomWithCode = (accessCode) ->
	Meteor.call 'findRoomByMaster', accessCode, (error, result) ->
		if error
			FlashMessages.sendError "Sorry, could not connect to server. Please try again later."
		else
			room = result
			roomID = null
			subAccessCode = accessCode
			if room
				roomID = room._id
				subAccessCode = null
			Meteor.subscribe 'rooms', roomID, subAccessCode,
				onReady: ->
					room = Rooms.findOne({accessCode: accessCode})
					isMaster = false
					if !room
						room = Rooms.findOne({masterCode: accessCode})
						isMaster = true
					if room
						Meteor.subscribe "logs", room._id
						Session.set 'currentView', 'inGame'
						Session.set 'roomID', room._id
						if isMaster
							Session.set 'masterCode', accessCode
							msg = "Someone has joined as a spymaster"
							createLog msg
					else
						FlashMessages.sendError "Sorry, could not find any room with that access code."
						# below is only necessary as this method is called from the access code route as well
						Session.set 'currentView', 'old_lobby'
						Session.set 'roomID', null
